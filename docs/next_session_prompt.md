I am building "Constellation Engine," a Second Brain application using SST v3, DynamoDB, Pinecone, and Gemini 2.0 Flash.

**Current System Status:**
1.  **Unified Lake:** Data is stored in DynamoDB and indexed in Pinecone.
2.  **Command Center:** A Chat UI with slash commands to trigger specialized agents:
    *   `/reflect` (The Biographer): Updates the "Life Log" narrative.
    *   `/think` (The Architect): Updates the "Idea Garden" synthesis.
    *   `/dream` (The Dreamer): Logs/analyzes dreams or finds serendipitous connections.
    *   `/fic` (The Storyteller): Updates the "Story Bible".
    *   `/lyrics` (The Bard): Updates "Song Seeds".
    *   `/read` (The Librarian): Triggers a background research workflow.
3.  **The Office (Dashboards):** A built-in dashboard viewer (`/dashboard`) allows the user to read the evolving Markdown files (Life Log, Story Bible, etc.) generated by the agents.
4.  **Backend:** All agents are deployed as serverless functions with Cognito authentication.

**The Goal for This Session:**
"Deepening the Mind: Advanced Context & Interaction."
We have the agents and the dashboards. Now we need to make the retrieval system ("The Incubator") smarter and potentially add a voice interface for easier capturing of thoughts on the go.

**Potential Tasks:**

1.  **Enhance "The Incubator" (RAG):**
    *   Currently, it does a simple vector search.
    *   *Upgrade:* Implement "Hybrid Search" (Keyword + Vector) for better accuracy.
    *   *Upgrade:* Add "Citations" that link directly to the source entry in the Dashboard or a new Entry Viewer.

2.  **Voice Interface (The Recorder):**
    *   Add a microphone button to the Chat UI.
    *   Implement client-side recording and upload to the `/ingest` endpoint (which already handles audio).
    *   Ensure the "Intent Router" correctly processes audio transcripts into the right agent (e.g., "Note to self: I had a dream..." -> triggers `/dream` logic automatically?).

3.  **Dialectical Librarian V2:**
    *   Currently, `/read` triggers a background job that updates a file.
    *   *Improvement:* Make it interactive. Allow the user to ask "Why did you recommend this?" or "Find more like X".

4.  **Refine "Evolving Narratives":**
    *   The Biographer and Architect are good, but they can get repetitive.
    *   *Task:* Implement a "Summarization/Pruning" logic where older chapters are archived to a separate file (e.g., `Archive/Life_Log_2025.md`) to keep the active dashboard fresh and concise.

**Immediate Next Step:**
Focus on **Task 2 (Voice Interface)**. Capturing thoughts via voice is critical for a "flow state" second brain. Update `ChatContainer.tsx` to handle audio recording and leverage the existing multi-modal capabilities of the backend.